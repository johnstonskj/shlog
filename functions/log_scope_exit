# -*- mode: sh; eval: (sh-set-shell "zsh") -*-

emulate -L zsh

symbol=$(_match_scope_symbol "${1}")
exit_status="${2:-0}"

if [[ -n "${symbol}" ]]; then
    local base_msg="exiting: ${symbol}"
    if [[ ${exit_status} -eq 0 ]]; then
        log_trace "${base_msg}"
    else
        log_trace "${base_msg} with status ${exit_status}"
    fi
    _log_scopes_pop
fi
unset symbol
return "${exit_status}"
